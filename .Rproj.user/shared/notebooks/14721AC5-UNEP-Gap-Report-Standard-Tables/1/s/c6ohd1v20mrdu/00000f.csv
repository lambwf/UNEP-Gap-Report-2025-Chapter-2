"0",""
"0","## Aggregate emissions"
"0",""
"0","data_total <- data_edgar %>% "
"0","  group_by(year,gas) %>% "
"0","  summarise(value=sum(value,na.rm=T)/1e9)"
"0",""
"0","data_total_luc <- data_gcb_luc %>% "
"0","  filter(country==""Global"") %>% "
"0","  mutate(value=value/1e9)"
"0",""
"0",""
"0","# Add the GCB projection and join"
"0",""
"0","data_total_luc <- data_total_luc %>% "
"0","  add_row(year=2024,value=gcb_luc_projection)"
"0",""
"0","data_total_luc <- data_total_luc %>% "
"0","  mutate(gas=""CO2 LULUCF"") %>% "
"0","  select(-iso,-country)"
"0",""
"0","data_total <- rbind(data_total,data_total_luc) %>% "
"0","  filter(year>=1990)"
"0",""
"0",""
"0","# aggregate"
"0",""
"0","data_total <- data_total %>% "
"0","  group_by(year) %>% "
"0","  summarise(value=sum(value,na.rm=TRUE))"
"0",""
"0",""
"0","# calculate change per decade"
"0",""
"0","data_total <- data_total %>% "
"0","  mutate(cut=ifelse(year>=2010 & year <=2019,""2010-2019"",NA)) %>% "
"0","  mutate(cut=ifelse(year>=2000 & year <=2009,""2000-2009"",cut)) %>% "
"0","  mutate(cut=ifelse(year>=1990 & year <=1999,""1990-1999"",cut)) %>% "
"0","  mutate(cut=ifelse(year %in% c(2022,2023),""2022-2023"",cut))"
"0","  "
"0","data_total <- data_total %>% "
"0","  group_by(cut) %>% "
"0","  mutate(change=growth_rate(year,value)$rate) %>% "
"0","  mutate(change=change*100) %>% "
"0","  mutate(change=round(change,1))"
"0",""
"0",""
"0",""
