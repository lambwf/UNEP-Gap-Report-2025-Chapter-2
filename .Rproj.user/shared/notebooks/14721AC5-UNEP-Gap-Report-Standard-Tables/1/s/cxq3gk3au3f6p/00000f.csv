"0",""
"0",""
"0","## Aggregate emissions data"
"0",""
"0","data_total <- data_edgar %>% "
"0","  group_by(year,gas) %>% "
"0","  summarise(value=sum(value,na.rm=T)/1e9)"
"0",""
"0","data_total_luc <- data_gcb_luc %>% "
"0","  filter(country==""Global"") %>% "
"0","  mutate(value=value/1e9)"
"0",""
"0",""
"0","# Add the GCB projection and join"
"0",""
"0","data_total_luc <- data_total_luc %>% "
"0","  add_row(year=2024,value=gcb_luc_projection)"
"0",""
"0","data_total_luc <- data_total_luc %>% "
"0","  mutate(gas=""CO2 LULUCF"") %>% "
"0","  select(-iso,-country)"
"0",""
"0","data_total <- rbind(data_total,data_total_luc) %>% "
"0","  filter(year>=1990)"
"0",""
"0",""
"0","# Calculate abs change"
"0",""
"0","data_total <- data_total %>% "
"0","  filter(year>=max(data_total$year)-1) %>% "
"0","  arrange(gas,year) %>% "
"0","  group_by(gas) %>% "
"0","  mutate(abs_change=last(value)-first(value),"
"0","         rel_change=growth_rate(year,value)$rate*100) %>% "
"0","  mutate(abs_change=round(abs_change,2))"
"0",""
"0",""
"0","# Calculate share of total change"
"0",""
"0","data_total <- data_total %>% "
"0","  filter(year==2024) %>% "
"0","  mutate(share_abs_change=abs_change/sum(data_total$abs_change))"
"0","  "
"0",""
