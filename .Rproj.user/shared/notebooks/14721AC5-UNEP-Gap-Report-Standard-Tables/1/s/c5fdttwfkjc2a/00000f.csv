"0",""
"0",""
"0","## Aggregate emissions"
"0",""
"0","data_total <- data_edgar %>% "
"0","  group_by(year,gas) %>% "
"0","  summarise(value=sum(value,na.rm=T)/1e9)"
"0",""
"0","data_total_luc <- data_gcb_luc %>% "
"0","  filter(country==""Global"") %>% "
"0","  mutate(value=value/1e9)"
"0",""
"0",""
"0","# Add the GCB projection and join"
"0",""
"0","data_total_luc <- data_total_luc %>% "
"0","  add_row(year=2024,value=gcb_luc_projection)"
"0",""
"0","data_total_luc <- data_total_luc %>% "
"0","  mutate(gas=""CO2 LULUCF"") %>% "
"0","  select(-iso,-country)"
"0",""
"0","data_total <- rbind(data_total,data_total_luc) %>% "
"0","  filter(year>=1990)"
"0",""
"0",""
"0","# calculate share"
"0",""
"0","data_total <- data_total %>% "
"0","  mutate(group=ifelse(gas %in% c(""CH4"",""N2O"",""F-gases""),""non-CO2"",""CO2"")) %>% "
"0","  group_by(year,group) %>% "
"0","  summarise(value=sum(value)) %>%"
"0","  group_by(year) %>% "
"0","  mutate(total=sum(value)) %>%"
"0","  ungroup() %>% "
"0","  mutate(share=value/total) %>% "
"0","  mutate(share=share*100) %>% "
"0","  mutate(share=round(share))"
"0",""
"0",""
"0",""
